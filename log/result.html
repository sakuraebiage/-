<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>çµæœãƒ­ã‚°</title>
<style>
body { margin:0; font-family:"Consolas","Roboto Mono",monospace; background:#000; color:#e0e0e0; }
.tab { display:inline-block; padding:6px 12px; margin-right:4px; cursor:pointer; background:#111; border:1px solid #8ae1ff; border-radius:6px; }
.tab.active { background:#8ae1ff; color:#000; }
#log-container { padding:10px; max-height:80vh; overflow-y:auto; border-top:1px solid #444; }
</style>
</head>
<body>
<div id="header-container"></div>
<script src="common/header-loader.js"></script>

<h2>ğŸ“ çµæœãƒ­ã‚°</h2>
<div id="tabs">
  <div class="tab active" data-type="combat">âš” æˆ¦é—˜</div>
  <div class="tab" data-type="explore">ğŸ§­ æ¢ç´¢</div>
  <div class="tab" data-type="rescue">ğŸ©¹ æ•‘åŠ©</div>
  <div class="tab" data-type="craft">âš’ ã‚¯ãƒ©ãƒ•ãƒˆ</div>
</div>

<div id="log-container"></div>
<button onclick="clearLogs()">å…¨ãƒ­ã‚°æ¶ˆå»</button>

<script src="common/log.js"></script>
<script>
const tabs = document.querySelectorAll(".tab");
const logContainer = document.getElementById("log-container");
let currentType = "combat";

function renderLogs(type) {
  const logs = JSON.parse(localStorage.getItem("logs") || "{}");
  logContainer.innerHTML = "";
  if (!logs[type] || logs[type].length === 0) {
    logContainer.innerHTML = "<p>ã¾ã ãƒ­ã‚°ãŒã‚ã‚Šã¾ã›ã‚“</p>";
    return;
  }
  logs[type].forEach(l => {
    const div = document.createElement("div");
    div.textContent = l;
    logContainer.appendChild(div);
  });
}

tabs.forEach(tab=>{
  tab.addEventListener("click", ()=>{
    tabs.forEach(t=>t.classList.remove("active"));
    tab.classList.add("active");
    currentType = tab.dataset.type;
    renderLogs(currentType);
  });
});

function clearLogs() {
  if (confirm("å…¨ã¦ã®ãƒ­ã‚°ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) {
    localStorage.removeItem("logs");
    renderLogs(currentType);
  }
}

// åˆå›è¡¨ç¤º
renderLogs(currentType);
</script>
</body>
</html>
