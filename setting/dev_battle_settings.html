<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ï¼šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç·¨é›†</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen p-6">

<h1 class="text-3xl font-bold mb-6">âš™ï¸ PCã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç·¨é›†</h1>

<a href="dev_setting.html" class="block px-4 py-2 bg-gray-700 rounded hover:bg-gray-600 mb-4">â† é–‹ç™ºãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹</a>

<div id="charList" class="space-y-4"></div>

<button id="saveAll" class="mt-6 px-6 py-3 bg-green-600 rounded hover:bg-green-500 font-bold">ğŸ’¾ ä¿å­˜</button>

<script>
const characters = [
  { id: "shizumi", name: "é™æµ·" },
  { id: "kohaku", name: "ç‘šç™½" },
  { id: "houraku", name: "å®æ¥½" },
  { id: "keika", name: "æµä½³" },
  { id: "aoi", name: "ã‚¢ã‚ªã‚¤" },
  { id: "tsukuyomi", name: "æœˆè© " },
  { id: "ulysis", name: "ãƒ¦ãƒªã‚·ã‚¹" },
  { id: "kanana", name: "ç¥å¥ˆ" },
  { id: "kaname", name: "è¦" },
  { id: "sei", name: "ã‚»ã‚¤" },
  { id: "saitou", name: "æ–æ…§æ–—" },
  { id: "rakel", name: "ãƒ©ã‚±ãƒ«" },
  { id: "kuroto", name: "ä¹æ¡é»’æ–—" },
  { id: "kanade", name: "å››è‘‰å¥" },
  { id: "ai", name: "å››è‘‰æ„›" },
  { id: "hozumi", name: "åæŸç©‚ç " },
  { id: "sousui", name: "è’¼ç¿ " },
  { id: "lumina", name: "ãƒ«ãƒŸãƒŠ" },
  { id: "kuun", name: "ãã…ãƒ¼ã‚“æ§˜" },
  { id: "shiro", name: "ã—ã‚" }
];

const charList = document.getElementById("charList");

// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°èª­ã¿è¾¼ã‚€
const savedData = JSON.parse(localStorage.getItem("pcStats") || "{}");

characters.forEach(char => {
  const section = document.createElement("div");
  section.className = "bg-gray-800 rounded-2xl p-4";

  const charData = savedData[char.id] || { hp:100, atk:50, def:50, spd:30, position:"front", skills:[], lines:[] };

  section.innerHTML = `
    <details class="group">
      <summary class="cursor-pointer text-xl font-semibold mb-2">${char.name}</summary>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <label>HP<input type="number" id="${char.id}_hp" class="w-full text-black p-1 rounded" value="${charData.hp}"></label>
        <label>æ”»æ’ƒ<input type="number" id="${char.id}_atk" class="w-full text-black p-1 rounded" value="${charData.atk}"></label>
        <label>é˜²å¾¡<input type="number" id="${char.id}_def" class="w-full text-black p-1 rounded" value="${charData.def}"></label>
        <label>é€ŸåŠ›<input type="number" id="${char.id}_spd" class="w-full text-black p-1 rounded" value="${charData.spd}"></label>
      </div>

      <div class="mt-4">
        <label>å‰åˆ—/å¾Œåˆ—ï¼š
          <select id="${char.id}_position" class="text-black p-1 rounded">
            <option value="front" ${charData.position==="front"?"selected":""}>å‰åˆ—</option>
            <option value="back" ${charData.position==="back"?"selected":""}>å¾Œåˆ—</option>
          </select>
        </label>
      </div>

      <div class="mt-4">
        <label>ã‚¹ã‚­ãƒ«è¨­å®šï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰</label>
        <textarea id="${char.id}_skills" rows="2" class="w-full text-black p-2 rounded">${charData.skills.join(",")}</textarea>
      </div>

      <div class="mt-4">
        <label>æˆ¦é—˜ã‚»ãƒªãƒ•ï¼ˆé–‹å§‹/å¥¥ç¾©/å‹åˆ©ï¼‰</label>
        <textarea id="${char.id}_lines" rows="3" class="w-full text-black p-2 rounded">${charData.lines.join("\n")}</textarea>
      </div>
    </details>
  `;

  charList.appendChild(section);
});

// ä¿å­˜ãƒœã‚¿ãƒ³
document.getElementById("saveAll").addEventListener("click", () => {
  const data = {};
  characters.forEach(char => {
    data[char.id] = {
      name: char.name,
      hp: Number(document.getElementById(`${char.id}_hp`).value),
      atk: Number(document.getElementById(`${char.id}_atk`).value),
      def: Number(document.getElementById(`${char.id}_def`).value),
      spd: Number(document.getElementById(`${char.id}_spd`).value),
      position: document.getElementById(`${char.id}_position`).value,
      skills: document.getElementById(`${char.id}_skills`).value.split(",").map(s=>s.trim()).filter(s=>s),
      lines: document.getElementById(`${char.id}_lines`).value.split("\n").map(l=>l.trim()).filter(l=>l)
    };
  });
  localStorage.setItem("pcStats", JSON.stringify(data));
  alert("PCã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼");
});
</script>

</body>
</html>
