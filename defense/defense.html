<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Èò≤Ë°õÊà¶Ê≥Å„É¢„Éã„Çø</title>
  <style>
    body { margin:0; font-family:"Consolas","Roboto Mono",monospace; background:#000; color:#e0e0e0; display:flex; flex-direction:column; }
    #main-container { display:flex; flex:1; }
    #map { flex:1; position:relative; display:flex; justify-content:center; align-items:center; }
    #status-panel { width:280px; background:#111; border-left:1px solid #555; padding:10px; overflow-y:auto; max-height:100%; }
    .base { position:absolute; width:55px; height:55px; border-radius:50%; background:rgba(90,200,255,0.2); border:2px solid #8ae1ff; display:flex; justify-content:center; align-items:center; font-size:0.8em; color:#8ae1ff; cursor:pointer; transition:all 0.5s ease; }
    .hp-bar { width:40px; height:4px; background:#222; border:1px solid #444; position:absolute; bottom:-8px; left:7px; border-radius:2px; }
    .hp-fill { height:100%; border-radius:2px; background:#00ff9d; }
  </style>
</head>
<body>
  <div id="header-container"></div>
  <script src="../common/header-loader.js"></script>

  <div id="main-container">
    <div id="map"></div>
    <div id="status-panel"></div>
  </div>

  <script>
    const map=document.getElementById("map");
    const statusPanel=document.getElementById("status-panel");
    const bases=[];
    const numBases=20;
    const radius=250;
    for(let i=0;i<numBases;i++){
      const base=document.createElement("div");
      base.classList.add("base");
      base.dataset.id=i===0?"Êú¨ÈÉ®":`Êã†ÁÇπ${i}`;
      base.dataset.hp=100;
      base.dataset.enemies=Math.floor(Math.random()*300);
      map.appendChild(base);
      bases.push(base);
    }
    function positionBases(){
      const centerX=map.offsetWidth/2, centerY=map.offsetHeight/2+250;
      bases.forEach((b,i)=>{
        if(i===0){ b.style.left=centerX-27.5+"px"; b.style.top=centerY-27.5+"px"; return; }
        const angle=(i/19)*2*Math.PI, dx=Math.sin(angle*3)*20, dy=Math.cos(angle*5)*20;
        b.style.left=centerX+radius*Math.cos(angle)+dx-27.5+"px";
        b.style.top=centerY+radius*Math.sin(angle)+dy-27.5+"px";
      });
    }
    positionBases(); window.addEventListener("resize",positionBases);

    function updateStatusPanel(){
      statusPanel.innerHTML="<h3>Êã†ÁÇπ„Çπ„ÉÜ„Éº„Çø„Çπ</h3>";
      bases.forEach(b=>{
        const entry=document.createElement("div");
        entry.innerHTML=`<strong>${b.dataset.id}</strong> üíöHP:${b.dataset.hp}% üëæÊïµ:${b.dataset.enemies}`;
        statusPanel.appendChild(entry);
      });
    }
    updateStatusPanel();
  </script>
</body>
</html>
