<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>防衛線マップ</title>
<style>
body {
  font-family: sans-serif;
  margin: 0;
  padding: 0;
  background: #f0f4f8;
}
#header-container {
  margin-bottom: 10px;
}
#map {
  position: relative;
  width: 100%;
  height: 70vh;
  background: #e0f7fa;
  border-top: 2px solid #90a4ae;
  border-bottom: 2px solid #90a4ae;
}
.base {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  position: absolute;
  text-align: center;
  line-height: 40px;
  color: #fff;
  font-weight: bold;
}
.official { background: #ff5722; }
.user { background: #4caf50; }
.arrow {
  position: absolute;
  width: 2px;
  background: black;
  transform-origin: top left;
}
#announcements {
  height: 20vh;
  background: #fafafa;
  overflow-y: auto;
  padding: 10px;
  border-top: 1px solid #ccc;
}
.face {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: inline-block;
  background: #ffeb3b;
  margin-right: 2px;
  vertical-align: middle;
}
</style>
</head>
<body>

<!-- ヘッダー -->
<div id="header-container"></div>

<!-- マップ領域 -->
<div id="map"></div>

<!-- アナウンス領域 -->
<div id="announcements"></div>

<script>
// 共通ヘッダーを読み込み
fetch("header.html")
  .then(res => res.text())
  .then(html => {
    document.getElementById("header-container").innerHTML = html;
  });

// ---- 防衛マップ描画 ----
const map =
